(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/createbookshelf/createbookshelf"],{1565:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var s=function(){var t=this,e=t.$createElement;t._self._c},i=[]},4356:function(t,e,n){"use strict";(function(t){n("ebae"),n("a9ff");o(n("66fd"));var e=o(n("d1d8"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"80a6":function(t,e,n){"use strict";n.r(e);var o=n("befe"),s=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=s.a},befe:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n("71b7"));function s(t){return t&&t.__esModule?t:{default:t}}var i=function(){n.e("components/pubpage").then(function(){return resolve(n("34c9"))}.bind(null,n)).catch(n.oe)},a={components:{pubpage:i},data:function(){return{title:"新建书房",_id:null,name:"",address:"选取书房所在地址",longitude:"",latitude:"",textTitle:"",desc:""}},onLoad:function(t){var e=this;t.id&&(this.title="修改书房",this._id=t.id,o.default.call({name:"bookshelfs",data:{action:"get",_id:this._id},success:function(t){e.name=t.result.name,e.textTitle=t.result.textTitle,e.desc=t.result.desc,e.address=t.result.address,e.longitude=t.result.geopoint.coordinates[0],e.latitude=t.result.geopoint.coordinates[1]}}))},methods:{btnChooseLocation:function(){var e=this;t.getLocation({success:function(n){t.chooseLocation({latitude:n.latitude,longitude:n.longitude,success:function(t){e.address=t.address+t.name,e.longitude=t.longitude,e.latitude=t.latitude}})}})},btnSaveBookshelf:function(){return this.name.length<3?t.showToast({icon:"none",mask:!0,title:"书房名称至少需要3个字符"}):""==this.latitude||""==this.longitude||""==this.address?t.showToast({icon:"none",mask:!0,title:"请选择正确的书房所在地址"}):this.textTitle?this.desc?void o.default.call({name:"bookshelfs",data:{action:this._id?"update":"create",_id:this._id,name:this.name,textTitle:this.textTitle,desc:this.desc,address:this.address,longitude:this.longitude,latitude:this.latitude},success:function(e){1==e.result.err?t.showModal({content:"书房名称未通过内容安全审查",showCancel:!1}):2==e.result.err?t.showModal({content:"书房文案标题未通过内容安全审查",showCancel:!1}):3==e.result.err?t.showModal({content:"书房文案未通过内容安全审查",showCancel:!1}):t.navigateBack()}}):t.showToast({icon:"none",mask:!0,title:"书房文案不能为空"}):t.showToast({icon:"none",mask:!0,title:"书房标题不能为空"})}}};e.default=a}).call(this,n("543d")["default"])},d1d8:function(t,e,n){"use strict";n.r(e);var o=n("1565"),s=n("80a6");for(var i in s)"default"!==i&&function(t){n.d(e,t,(function(){return s[t]}))}(i);var a,u=n("f0c5"),d=Object(u["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=d.exports}},[["4356","common/runtime","common/vendor"]]]);