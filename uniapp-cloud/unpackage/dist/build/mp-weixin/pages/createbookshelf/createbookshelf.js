(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/createbookshelf/createbookshelf"],{"04f7":function(t,e,n){"use strict";n.r(e);var o=n("6415"),a=n("df32");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var u,s=n("f0c5"),d=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);e["default"]=d.exports},6415:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement;t._self._c},i=[]},8378:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("abb0"));function a(t){return t&&t.__esModule?t:{default:t}}var i=function(){n.e("components/pubpage").then(function(){return resolve(n("00e9"))}.bind(null,n)).catch(n.oe)},u={components:{pubpage:i},data:function(){return{title:"新建书房",_id:null,name:"",address:"选取书房所在地址",longitude:"",latitude:""}},onLoad:function(t){var e=this;t.id&&(this.title="修改书房",this._id=t.id,o.default.call({name:"bookshelfs",data:{action:"get",_id:this._id},success:function(t){e.name=t.result.name,e.address=t.result.address,e.longitude=t.result.geopoint.coordinates[0],e.latitude=t.result.geopoint.coordinates[1]}}))},methods:{btnChooseLocation:function(){var e=this;t.getLocation({success:function(n){t.chooseLocation({latitude:n.latitude,longitude:n.longitude,success:function(t){e.address=t.address+t.name,e.longitude=t.longitude,e.latitude=t.latitude}})}})},btnSaveBookshelf:function(){return this.name.length<3?t.showToast({icon:"none",mask:!0,title:"书房名称至少需要3个字符"}):""==this.latitude||""==this.longitude||""==this.address?t.showToast({icon:"none",mask:!0,title:"请选择正确的书房所在地址"}):void o.default.call({name:"bookshelfs",data:{action:this._id?"update":"create",_id:this._id,name:this.name,address:this.address,longitude:this.longitude,latitude:this.latitude},success:function(e){1==e.result.err?t.showModal({content:"书房名称未通过内容安全审查",showCancel:!1}):t.navigateBack({})}})}}};e.default=u}).call(this,n("543d")["default"])},df32:function(t,e,n){"use strict";n.r(e);var o=n("8378"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},e29b:function(t,e,n){"use strict";(function(t){n("efbb");o(n("66fd"));var e=o(n("04f7"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])}},[["e29b","common/runtime","common/vendor"]]]);